
/*
************************************************************************************************************************
*
************************************************************************************************************************
*/

#ifndef SYS_COMM_H
#define SYS_COMM_H


/*
************************************************************************************************************************
*           INCLUDE FILES
************************************************************************************************************************
*/

#include <stdint.h>
#include "utils.h"


/*
************************************************************************************************************************
*           DO NOT CHANGE THESE DEFINES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           CONFIGURATION DEFINES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           DATA TYPES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           GLOBAL VARIABLES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           MACRO'S
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           FUNCTION PROTOTYPES
************************************************************************************************************************
*/

// initialize the communication
void sys_comm_init(void);

//// webgui communication functions
// sends a message to webgui
void sys_comm_send(const char *command, const char *arguments);
// read a message from webgui
ringbuff_t* sys_comm_read(void);
// sets a function callback to webgui response
void sys_comm_set_response_cb(void (*resp_cb)(void *data, menu_item_t *item), menu_item_t *item);
// invokes the response function callback
void sys_comm_response_cb(void *data);
// blocks the execution until the webgui response be received
void sys_comm_wait_response(void);
// clear the data in the buffer
void sys_comm_clear(void);

/*
************************************************************************************************************************
*           CONFIGURATION ERRORS
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           END HEADER
************************************************************************************************************************
*/

#endif
